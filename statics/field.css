:root{
  --bg:#0b0f14; --panel:#121822; --muted:#a0b3c3; --text:#e8f1f8;
  --accent:#4cc9f0; --ok:#2bd576; --warn:#f9b234; --bad:#ff5b5b; --pill:#1e2633;
}
*{box-sizing:border-box}
body.app{background:var(--bg); color:var(--text); font:14px/1.5 system-ui,Segoe UI,Roboto,Arial}
a{color:var(--accent); text-decoration:none}
.topbar{display:flex; justify-content:space-between; align-items:center; padding:12px 16px; background:#0a121b; border-bottom:1px solid #16202c; position:sticky; top:0; z-index:10}
.brand{font-weight:700}
.tools{display:flex; gap:8px; align-items:center}
.input,.select{background:#0c1724; color:var(--text); border:1px solid #1a2433; padding:8px 10px; border-radius:8px; min-width:160px}
.btn,.btn-ghost,.btn-sm{background:#17324a; color:#daf1ff; border:1px solid #29455f; padding:10px 12px; border-radius:10px; cursor:pointer}
.btn:hover{filter:brightness(1.08)}
.btn-ghost{background:transparent}
.btn-sm{padding:6px 8px; font-size:12px}
.grid{display:grid; grid-template-columns: 2fr 1fr; gap:16px; padding:16px; max-width:1400px; margin:0 auto}
.left,.right{display:flex; flex-direction:column; gap:16px}
.panel{background:var(--panel); border:1px solid #1b2636; border-radius:14px; padding:12px}
.panel-h{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px}
.dim{color:var(--muted)}
.task-list{display:flex; flex-direction:column; gap:10px; max-height:78vh; overflow:auto; padding-right:4px}
.card{border:1px solid #233046; background:#0f1722; border-radius:14px; padding:12px; display:flex; flex-direction:column; gap:8px}
.card.active{outline:2px solid var(--accent)}
.card-h{display:flex; justify-content:space-between; gap:12px}
.title{font-weight:600}
.dept{margin-left:6px; color:var(--muted); font-weight:400}
.muted{color:var(--muted); font-size:12px}
.right{display:flex; align-items:center; gap:8px}
.pill{background:var(--pill); border:1px solid #283449; padding:4px 8px; border-radius:999px; font-size:12px}
.pill.P1{border-color:var(--bad); color:#ffd2d2}
.pill.P2{border-color:var(--warn); color:#ffe7c2}
.pill.P3{border-color:var(--ok); color:#d6ffea}
.pill.dps{border-color:#3a6ea1; color:#cfeaff}
.badge{padding:3px 6px; background:#1a2230; border:1px solid #2a3b53; border-radius:6px; font-size:11px}
.badge-amber{border-color:var(--warn); color:#ffe7c2}
.badge-red{border-color:var(--bad); color:#ffd2d2}
.row{display:flex; align-items:center; justify-content:space-between; gap:8px}
.actions{gap:6px}
.bar{height:8px; background:#0b1220; border:1px solid #1c2a3e; border-radius:999px; overflow:hidden}
.bar-fill{height:100%; background:linear-gradient(90deg,#3aa0ff,#4cc9f0)}
.bar.warn .bar-fill{background:linear-gradient(90deg,#f9b234,#fcd36f)}
.bar.bad .bar-fill{background:linear-gradient(90deg,#ff5b5b,#ff908a)}
.bar.ok .bar-fill{background:linear-gradient(90deg,#2bd576,#8bf2b6)}
.sla-summary{display:flex; gap:12px; padding:8px 4px}
.kpi{flex:1; background:#0e1520; border:1px solid #22314a; border-radius:12px; padding:10px}
.kpi-v{font-size:20px; font-weight:700}
.kpi-l{color:var(--muted)}
.context-box{background:#0e1520; border:1px solid #22314a; border-radius:12px; padding:10px; min-height:160px}
.ctx-line{margin:6px 0}
.ctx-muted{color:var(--muted); font-size:12px; margin-top:8px}
.empty{opacity:.7; padding:20px; text-align:center}
.toast{position:fixed; bottom:18px; right:18px; background:#0f1c12; color:#baf7cf; border:1px solid #234e30; padding:10px 14px; border-radius:10px; opacity:0; transform:translateY(8px); transition:.2s}
.toast.show{opacity:1; transform:translateY(0)}
@media (max-width: 980px){ .grid{grid-template-columns:1fr} }
